<div class="page-content container container-plus">

    <div class="row">
      <div class="col-12 col-lg-12">
        <div class="d-lg-none my-2">
          <!-- the button to toggle filters modal in small devices -->
          <button type="button" class="btn btn-block btn-outline-blue btn-sm text-600 shadow-sm py-1 py-md-2" data-toggle="modal" data-target="#search-filters">
            <span class="position-tl h-101 px-25 text-center bgc-blue-d1 pt-1 text-white">
            <i class="fas fa-filter text-110"></i>
        </span>
            Filter results
          </button>
        </div>

        <!-- .modal-off-lg will turn off modal features in lg+ view. So .modal is displayed without needing to toggle it -->
        <div id="search-filters" class="modal fade modal-off-lg">
          <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content brc-dark-l4 border-y-0 border-l-0 pr-lg-3">

              <div class="modal-header d-lg-none">
                <!-- .hide header in lg+ view -->
                <h5 class="modal-title text-primary-d1">
                  Filter results
                </h5>

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">Ã—</span>
                </button>
              </div>


              <div class="modal-body pt-lg-1 px-1 ace-scrollbar">

                <div class="card acard">
                  <div class="card-header border-0 py-0">
                    <a href="#" data-action="toggle" class="d-flex d-style w-100 align-items-center px-2 py-1 text-grey-d1 text-105 bgc-h-primary-l3 radius-1 no-underline">
                      <span class="d-collapsed">
                                Buscar
                            </span>

                      <span class="d-n-collapsed text-dark-m3 text-600 ">
                                Buscar
                            </span>

                      <i class="fa fa-angle-up ml-auto mr-1"></i>
                    </a>
                  </div>

                  <div class="card-body p-0">
                    <div class="p-2 px-25">
                      <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search within results ..." #txt_filtro_busqueda />
                        <div class="input-group-append">
                          <button class="btn btn-blue px-3 btn-sm" type="button" (click)="FiltrarProducto()">
                            <i class="fa fa-search-plus text-105"></i>
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div><!-- /.col -->
    </div>

    <div class="row" *ngIf="(false)">
      <div class="col-12">
        <div class="card dcard">
          <div class="card-body px-1 px-md-3">

            <form autocomplete="off">
              <div class="d-flex justify-content-between flex-column flex-sm-row mb-3 px-2 px-sm-0">
                <h3 class="text-125 pl-1 mb-3 mb-sm-0 text-secondary-d4">
                  Detalle venta
                </h3>
              </div>

              <table id="simple-table" class="mb-0 table table-borderless table-bordered-x brc-secondary-l3 text-dark-m2 radius-1 overflow-hidden">
                <tbody class="mt-1">
                  <tr class="bgc-h-yellow-l4 d-style">
                    <td class='text-center pr-0 pos-rel'>
                      <div class="position-tl h-100 ml-n1px border-l-4 brc-orange-m1 v-hover">
                        <!-- border shown on hover -->
                      </div>
                      <div class="position-tl h-100 ml-n1px border-l-4 brc-success-m1 v-active">
                        <!-- border shown when row is selected -->
                      </div>

                      <label>
                        <input type="checkbox" class="align-middle" />
                      </label>
                    </td>

                    <td>
                      <a href='#' class='text-blue-d1 text-600 text-95'>ace.com</a>
                    </td>

                    <td class="text-600 text-orange-d2">
                      $45
                    </td>

                    <td class='d-none d-sm-table-cell text-grey-d1'>
                      3,330
                    </td>

                    <td class='d-none d-sm-table-cell text-grey text-95'>
                      Feb 12
                    </td>

                    <td class='d-none d-sm-table-cell'>
                      <span class='badge badge-sm bgc-warning-d1 text-white pb-1 px-25'>Expiring</span>



                    </td>

                    <td class='text-center pr-0'>
                      <div>
                        <a href="#" data-toggle="collapse" data-target="#table-detail-0" class="d-style btn btn-outline-info text-90 text-600 border-0 px-2 collapsed" title="Show Details">
                          <span class="d-none d-md-inline mr-1">
              Details
            </span>
                          <i class="fa fa-angle-down toggle-icon opacity-1 text-90"></i>
                        </a>
                      </div>
                    </td>

                    <td>
                      <!-- action buttons -->
                      <div class='d-none d-lg-flex'>
                        <a href="#" class="mx-2px btn radius-1 border-2 btn-xs btn-brc-tp btn-light-secondary btn-h-lighter-success btn-a-lighter-success">
                          <i class="fa fa-pencil-alt"></i>
                        </a>

                        <a href="#" class="mx-2px btn radius-1 border-2 btn-xs btn-brc-tp btn-light-secondary btn-h-lighter-danger btn-a-lighter-danger">
                          <i class="fa fa-trash-alt"></i>
                        </a>
                        <a href="#" class="mx-2px btn radius-1 border-2 btn-xs btn-brc-tp btn-light-secondary btn-h-lighter-warning btn-a-lighter-warning">
                          <i class="fa fa-ellipsis-v mx-1"></i>
                        </a>
                      </div>

                      <!-- show a dropdown in mobile -->
                      <div class='dropdown d-inline-block d-lg-none dd-backdrop dd-backdrop-none-lg'>
                        <a href='#' class='btn btn-default btn-xs py-15 radius-round dropdown-toggle' data-toggle="dropdown">
                          <i class="fa fa-cog"></i>
                        </a>

                        <div class="dropdown-menu dd-slide-up dd-slide-none-lg">
                          <div class="dropdown-inner">
                            <div class="dropdown-header text-100 text-secondary-d1 border-b-1 brc-secondary-l2 text-600 mb-2">
                              ace.com
                            </div>
                            <a href="#" class="dropdown-item">
                              <i class="fa fa-pencil-alt text-blue mr-1 p-2 w-4"></i>
                              Edit
                            </a>
                            <a href="#" class="dropdown-item">
                              <i class="fa fa-trash-alt text-danger-m1 mr-1 p-2 w-4"></i>
                              Delete
                            </a>
                            <a href="#" class="dropdown-item">
                              <i class="far fa-flag text-orange-d1 mr-1 p-2 w-4"></i>
                              Flag
                            </a>
                          </div>
                        </div>
                      </div>

                    </td>
                  </tr>
                  <!-- detail row -->
                  <tr class="border-0 detail-row bgc-white">
                    <td colspan="8" class="p-0 border-none brc-secondary-l2">
                      <div class="table-detail collapse" id="table-detail-0">
                        <div class="row">
                          <div class="col-12 col-md-10 offset-md-1 p-4">
                            <div class="alert bgc-secondary-l4 text-dark-m2 border-none border-l-4 brc-primary-m1 radius-0 mb-0">
                              <h4 class="text-primary">
                                Row Details
                              </h4>
                              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque commodo massa sed ipsum porttitor facilisis.
                            </div>
                          </div>
                        </div>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </form>

          </div><!-- /.card-body -->
        </div><!-- /.card -->
      </div><!-- /.col -->
    </div><!-- /.row -->
    
    <div class="row">

      <!-- results -->
      <div class="col-12 col-lg-12 pb-3">

        <div class="text-center" *ngIf="(g_RptBusquedaProducto.num_resultados > 0)">
          <nav class="mt-3 d-sm-inline-block shadow-sm border-1 brc-secondary-l2 radius-1 bgc-secondary-l5 px-2" aria-label="Search results navigation">
            <ul class="pagination d-flex nav-tabs-scroll is-scrollable p-0 my-1">
              <li class="page-item mr-15" *ngFor="let Boton of g_ListaBoton">

                <a class="page-link btn btn-sm btn-bgc-tp p-25 radius-3px btn-light-secondary border-0" href="#" 
                    (click)="FiltrarProducto(Boton.valor_boton)"
                    *ngIf="(Boton.nom_boton === 'Prev')">
                    <i class="fa fa-arrow-left text-110 mr-1"></i>
                    Prev
                </a>

                <a class="page-link btn btn-sm btn-bgc-tp p-25 radius-3px btn-light-secondary border-0" href="#" 
                    (click)="FiltrarProducto(Boton.valor_boton)"
                    *ngIf="(Boton.nom_boton === 'Next')">
                    Next
                    <i class="fa fa-arrow-right text-110 ml-1"></i>
                </a>

                <a class="w-5 page-link btn p-25 btn-sm border-0 btn-bgc-tp radius-3px text-600 btn-light-black btn-h-primary btn-a-primary" href="#"
                    (click)="FiltrarProducto(Boton.valor_boton)"
                    [ngClass]="{'active': Boton.flg_boton_actual === true}"
                    *ngIf="(Boton.nom_boton !== 'Prev' && Boton.nom_boton !== 'Next')"
                >
                    {{ Boton.nom_boton }}
                </a>

              </li>
            </ul>
          </nav>
        </div>

        <hr class="brc-secondary-l3 m-2" />

        <div class="bgc-default-l4 radius-1 p-25 border-1 brc-default-l3 mt-4 pt-lg-3 mb-1">
            <div class="d-flex flex-column flex-sm-row">
              <h3 class="text-dark-tp3 text-125 mb-0 ml-sm-2">
                <span class="text-primary-d4 text-115">{{ g_RptBusquedaProducto.num_resultados }}</span> productos encontrados
              </h3>

              <div class="ml-auto mt-2 mt-sm-0">
                <label class="mb-0 d-inline-block text-sm">
                  Sort by:
                </label>
                <div class="ml-2 d-inline-block">
                  <select class="ace-select brc-blue-m4 brc-h-blue-m1 pr-5 text-90 h-auto border-1">
                    <option>Relevance</option>
                    <option>Date</option>
                    <option>Price</option>
                  </select>
                </div>
              </div>
            </div>
        </div>

        <!-- sponsored results -->
        <div class="bgc-secondary-l4 brc-dark-l3 border-1 px-35 pb-3 pt-25 radius-1" *ngFor="let SubListaProducto of g_ListaProductoBusquedaOrganizado">
          <div class="row">
            <div class="col-12 col-lg-3 pr-2 mb-3 mb-lg-0" *ngFor="let Producto of SubListaProducto">
              <div class="dcard brc-transparent p-3 brc-h-warning-m3">

                <img *ngIf="(Producto.ruta_archivo === null)"
                  src="http://localhost:4200/assets/image/avatar/NO_IMAGEN.png" 
                  class="radius-1 w-100" 
                  alt="Product Image" 
                />
                <img *ngIf="(Producto.ruta_archivo !== null)"
                  src="E:\proyectos\c\ws_wa_ccadmin_central\ws_wa_ccadmin_central\{{Producto.ruta_archivo}}" 
                  class="radius-1 w-100" 
                  alt="Product Image" 
                />
                
                <div class="my-3 text-90 text-warning-m2">
                  <span class="text-grey-m1 ml-1">
                        #{{Producto.cod_producto_fk}} 
                        <!-- <span class="badge bgc-pink text-white text-xs align-middle">PROMOCION</span> -->
                        <span class="badge bgc-blue-d1 text-white text-xs align-middle" *ngIf="(Producto.flg_descuento === 'S')">
                            PROMOCION !
                        </span>
                    </span>
                </div>

                <h3 class="text-primary text-110">
                    PRECIO : {{ Producto.num_precio | currency: Producto.cod_moneda + ' '}}
                </h3>
                <h4 class="text-danger text-100">
                    STOCK : {{Producto.num_stock_digital }}
                </h4>
                <div>
                    {{Producto.nom_producto}}
                </div>
                <div>
                    <a href="#" 
                       class="btn btn-white btn-h-info btn-a-info btn-sm px-3"
                       data-toggle="modal" data-target="#exampleModal"
                       (click)="ObtenerProducto(Producto.cod_producto_fk)"
                    >
                        <i class="fa fa-shopping-cart d-sm-none mr-2"></i>
                        Comprar
                    </a>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="h-1">
          <!-- add some space -->
        </div>

        <hr class="brc-secondary-l3 m-2" />

        <!-- pagination -->
        <div class="text-center" *ngIf="(g_RptBusquedaProducto.num_resultados > 0)">
          <nav class="mt-3 d-sm-inline-block shadow-sm border-1 brc-secondary-l2 radius-1 bgc-secondary-l5 px-2" aria-label="Search results navigation">
            <ul class="pagination d-flex nav-tabs-scroll is-scrollable p-0 my-1">

              <li class="page-item mr-15" *ngFor="let Boton of g_ListaBoton">

                <a class="page-link btn btn-sm btn-bgc-tp p-25 radius-3px btn-light-secondary border-0" href="#" 
                    (click)="FiltrarProducto(Boton.valor_boton)"
                    *ngIf="(Boton.nom_boton === 'Prev')">
                    <i class="fa fa-arrow-left text-110 mr-1"></i>
                    Prev
                </a>

                <a class="page-link btn btn-sm btn-bgc-tp p-25 radius-3px btn-light-secondary border-0" href="#" 
                    (click)="FiltrarProducto(Boton.valor_boton)"
                    *ngIf="(Boton.nom_boton === 'Next')">
                    Next
                    <i class="fa fa-arrow-right text-110 ml-1"></i>
                </a>

                <a class="w-5 page-link btn p-25 btn-sm border-0 btn-bgc-tp radius-3px text-600 btn-light-black btn-h-primary btn-a-primary" href="#"
                    (click)="FiltrarProducto(Boton.valor_boton)"
                    [ngClass]="{'active': Boton.flg_boton_actual === true}"
                    *ngIf="(Boton.nom_boton !== 'Prev' && Boton.nom_boton !== 'Next')"
                >
                    {{ Boton.nom_boton }}
                </a>

              </li>

            </ul>
          </nav>
        </div>


      </div><!-- /.col -->

    </div><!-- /.row -->
  </div>


  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog " role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title text-primary-d3" id="exampleModalLabel">
            Modal title
          </h5>

          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div class="modal-body">
          ...
          <br />
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary px-4" data-dismiss="modal">
            Close
          </button>

          <button type="button" class="btn btn-primary">
            Save changes
          </button>
        </div>
      </div>
    </div>
  </div>